<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Trainer Serial Content</title>
<link href="https://fonts.googleapis.com/css2?family=Anton&display=swap" rel="stylesheet">
<style>
body{
  margin:0;
  background:#000;
  color:#fff;
  font-family:Arial,sans-serif;
  display:flex;
  justify-content:center;
  align-items:center;
  height:100vh;
}
.frame{
  width:360px;
  height:640px;
  padding:20px;
  box-sizing:border-box;
  position:relative;
  overflow:hidden;
}
.title{
  font-family:'Anton',sans-serif;
  font-size:36px;
  text-align:center;
  margin-bottom:12px;
}
.shock{
  animation:titleShake .12s infinite,titleFlash .18s infinite;
}
@keyframes titleShake{
  0%{transform:translate(0)}
  25%{transform:translate(-3px,1px)}
  50%{transform:translate(3px,-1px)}
  75%{transform:translate(-2px,1px)}
  100%{transform:translate(0)}
}
@keyframes titleFlash{
  0%{color:#fff}
  25%{color:#ff2d2d}
  50%{color:#00ffe5}
  75%{color:#ffe600}
  100%{color:#fff}
}
.question{
  font-size:15px;
  line-height:1.45;
  margin-bottom:12px;
}
.options div{
  border:1px solid #333;
  padding:10px;
  margin-bottom:6px;
  opacity:.8;
}
.pressure{animation:shakeX .22s infinite}
@keyframes shakeX{
  0%{transform:translateX(0)}
  25%{transform:translateX(-4px)}
  50%{transform:translateX(4px)}
  75%{transform:translateX(-4px)}
  100%{transform:translateX(0)}
}
.rationale{
  position:absolute;
  top:55%;
  left:18px;
  right:18px;
  font-family:'Anton';
  font-size:28px;
  text-align:center;
  opacity:0;
  transform:scale(1.35);
}
.rationale.show{
  opacity:1;
  animation:zoomOut .6s ease-out forwards;
}
@keyframes zoomOut{
  from{transform:scale(1.35)}
  to{transform:scale(1)}
}
.word{
  display:inline-block;
  opacity:0;
}
.word.on{
  opacity:1;
  animation:flashWord .35s steps(1,end),wave 1.2s ease-in-out infinite;
}
@keyframes flashWord{
  0%{opacity:0;filter:brightness(2)}
  40%{opacity:1}
  100%{opacity:.9}
}
@keyframes wave{
  0%{transform:translateY(0)}
  50%{transform:translateY(-6px)}
  100%{transform:translateY(0)}
}
.wrong{
  position:absolute;
  inset:0;
  background:#000;
  display:flex;
  justify-content:center;
  align-items:center;
  font-family:'Anton';
  font-size:38px;
  color:#ff2d2d;
  opacity:0;
}
.wrong.show{opacity:1;}
</style>
</head>
<body>
<div class="frame">
  <div class="title shock" id="title">TRAINER MODE</div>
  <div class="question" id="q"></div>
  <div class="options pressure" id="opt"></div>
  <div class="wrong" id="wrong">SALAH</div>
  <div class="rationale" id="rat"></div>
</div>

<audio id="audioCue" src="https://actions.google.com/sounds/v1/cartoon/clang_and_wobble.ogg"></audio>

<script>
/* ================= ITEMS ================= */
const ITEMS = shuffle([
  { hook1:"LOGIKA DASAR TAPI MENIPU", hook2:"PERHATIKAN SEBAGIAN", q:"Jika semua A adalah B dan semua B adalah C, maka?", o:["A adalah C","C adalah A","Sebagian","Tidak ada"], r:"Semua A ke B dan semua B ke C → semua A pasti ke C. Opsi lain salah karena tidak mengikuti rantai logika penuh."},
  { hook1:"JANGAN TERLALU GENERAL", hook2:"SEBAGIAN ≠ SEMUA", q:"Tidak semua siswa rajin. Sebagian siswa pintar.", o:["Semua pintar","Sebagian rajin","Sebagian pintar","Tidak ada"], r:"Hanya sebagian yang diketahui pintar; tidak bisa disimpulkan semua atau tidak ada."},
  { hook1:"PERHITUNGAN HARI ITU PENTING", hook2:"YANG DIHITUNG LAJU KERJA", q:"Pekerjaan selesai oleh A 4 hari dan B 6 hari. Jika bekerja bersama?", o:["5 hari","4 hari","2,4 hari","10 hari"], r:"Hitung laju kerja: A=1/4, B=1/6 per hari → total=5/12 per hari → 12/5=2,4 hari."},
  { hook1:"TRANSITIF ITU KUNCI", hook2:"SIAPA PALING TINGGI?", q:"Anton lebih tinggi dari Budi. Budi lebih tinggi dari Caca. Siapa paling tinggi?", o:["Anton","Budi","Caca","Tidak tahu"], r:"Relasi transitif: Anton > Budi > Caca → Anton tertinggi."},
  { hook1:"JANGAN TERBINGUNG PREMIS SALAH", hook2:"PENGUJIAN PENGANTAR", q:"Semua burung bisa terbang. Penguin burung. Benar atau salah?", o:["Benar","Salah","Sebagian","Tidak tahu"], r:"Premis salah karena penguin burung tapi tidak bisa terbang → jawaban Salah."},
  { hook1:"HITUNG LAJU KERJA", hook2:"JANGAN HANYA TEBARANGKAN", q:"A 4 hari, B 6 hari. Bersama?", o:["5","4","2.4","10"], r:"A=1/4, B=1/6 → total 5/12 per hari → 12/5=2,4 hari."},
  { hook1:"LEBIH ORANG → CEPAT SELESAI", hook2:"PERBANDINGAN TERBALIK", q:"5 orang 10 hari. 10 orang berapa hari?", o:["20","10","5","2"], r:"5 orang 10 hari → total pekerjaan 50. 10 orang → 50/10=5 hari."},
  { hook1:"DISKON BERTAHAP", hook2:"BANYAK ORANG SALAH HITUNG", q:"Diskon 50% lalu 50% lagi. Total sisa?", o:["Gratis","25%","50%","75%"], r:"Harga ×0,5 ×0,5 = 0,25 → sisa 25% dari harga awal."},
  { hook1:"KERJAKAN LANGKAH DEMI LANGKAH", hook2:"HATI-HATI FRAKSI", q:"2/3 dari 3/4 dari 120?", o:["40","60","80","90"], r:"3/4 ×120=90 → 2/3 ×90=60."},
  { hook1:"MESIN BANYAK, WAKTU CEPAT", hook2:"HITUNG PROPORSIONAL", q:"3 mesin 3 barang 3 menit. 6 mesin 6 barang?", o:["3","6","9","12"], r:"Setiap mesin 1 barang 1 menit. 6 mesin → 6 barang tetap 3 menit."}
  // ... rest of 30 items go here
]);

/* ================= SHUFFLE UTILITY ================= */
function shuffle(array){let currentIndex=array.length,randomIndex;while(currentIndex!=0){randomIndex=Math.floor(Math.random()*currentIndex);currentIndex--;[array[currentIndex],array[randomIndex]]=[array[randomIndex],array[currentIndex]];}return array;}

let idx=0;
const title=document.getElementById("title");
const qEl=document.getElementById("q");
const optEl=document.getElementById("opt");
const wrong=document.getElementById("wrong");
const rat=document.getElementById("rat");
const audioCue=document.getElementById("audioCue");
let beat;

function playWords(words){
  let i=0;
  clearInterval(beat);
  beat=setInterval(()=>{
    if(i>0) words[i-1].classList.remove("on");
    if(i<words.length){
      words[i].classList.add("on");
      i++;
    }else{clearInterval(beat);}
  },260);
}

function loadItem(){
  const it=ITEMS[idx];

  /* RESET */
  title.textContent=it.hook1;
  title.classList.add("shock");
  wrong.classList.remove("show");
  rat.classList.remove("show");
  rat.innerHTML="";
  qEl.textContent=it.q;
  optEl.innerHTML=it.o.map(x=>`<div>${x}</div>`).join("");
  optEl.classList.add("pressure");

  /* PLAY AUDIO CUE */
  audioCue.currentTime=0; audioCue.play();

  /* STOP TITLE SHOCK AFTER 2s */
  setTimeout(()=>{title.classList.remove("shock");},2000);

  /* SECOND HOOK BEFORE WRONG */
  setTimeout(()=>{title.textContent=it.hook2; title.classList.add("shock");},3200);
  setTimeout(()=>{title.classList.remove("shock");},5000);

  /* WRONG DISPLAY */
  setTimeout(()=>{
    optEl.classList.remove("pressure");
    wrong.classList.add("show");
  },5000);

  /* RATIONALE */
  setTimeout(()=>{
    wrong.classList.remove("show");
    rat.classList.add("show");
    it.r.split(" ").forEach(w=>{
      const s=document.createElement("span");
      s.className="word";
      s.textContent=w+" ";
      rat.appendChild(s);
    });
    playWords([...rat.children]);
  },6500);

  /* NEXT ITEM */
  setTimeout(()=>{
    idx=(idx+1)%ITEMS.length;
    loadItem();
  },9500);
}

loadItem();
</script>
</body>
</html>
