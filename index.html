<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Shock Hook Trainer</title>
<link href="https://fonts.googleapis.com/css2?family=Anton&display=swap" rel="stylesheet">

<style>
body{
  margin:0;
  background:#000;
  color:#fff;
  font-family:Arial, sans-serif;
  display:flex;
  justify-content:center;
  align-items:center;
  height:100vh;
}
.frame{
  width:360px;
  height:640px;
  padding:22px;
  position:relative;
  overflow:hidden;
}

/* TITLE */
.title{
  font-family:'Anton';
  font-size:38px;
  text-align:center;
  margin-bottom:12px;
}
.shock{
  animation:shake .12s infinite, flash .18s infinite;
}
@keyframes shake{
  0%{transform:translate(0)}
  25%{transform:translate(-3px,1px)}
  50%{transform:translate(3px,-1px)}
  75%{transform:translate(-2px,1px)}
}
@keyframes flash{
  0%{color:#fff}
  25%{color:#ff2d2d}
  50%{color:#00ffe5}
  75%{color:#ffe600}
  100%{color:#fff}
}

/* QUESTION */
.question{font-size:15px;line-height:1.45;margin-bottom:14px}

/* OPTIONS */
.options div{
  border:1px solid #333;
  padding:10px;
  margin-bottom:8px;
  opacity:.85;
}
.pressure{animation:shakeX .22s infinite}
@keyframes shakeX{
  0%{transform:translateX(0)}
  25%{transform:translateX(-4px)}
  50%{transform:translateX(4px)}
}

/* WRONG */
.wrong{
  position:absolute;
  inset:0;
  background:#000;
  display:flex;
  align-items:center;
  justify-content:center;
  font-family:'Anton';
  font-size:40px;
  color:#ff2d2d;
  opacity:0;
}
.wrong.show{opacity:1}

/* RATIONALE */
.rationale{
  position:absolute;
  top:55%;
  left:18px;
  right:18px;
  font-family:'Anton';
  font-size:28px;
  text-align:center;
  opacity:0;
}
.rationale.show{opacity:1}

.word{
  display:inline-block;
  opacity:0;
}
.word.on{
  opacity:1;
  animation:wave 1.2s ease-in-out infinite, flashWord .3s steps(1,end);
}
@keyframes wave{
  0%{transform:translateY(0)}
  50%{transform:translateY(-6px)}
  100%{transform:translateY(0)}
}
@keyframes flashWord{
  0%{filter:brightness(2)}
  100%{filter:brightness(1)}
}
</style>
</head>

<body>
<div class="frame">
  <div class="title" id="title"></div>
  <div class="question" id="q"></div>
  <div class="options" id="opt"></div>
  <div class="wrong" id="wrong">SALAH</div>
  <div class="rationale" id="rat"></div>
</div>

<audio id="cue" preload="auto">
  <source src="https://assets.mixkit.co/sfx/preview/mixkit-soft-click-1121.mp3">
</audio>

<script>
/* ========= AI ITEMS ========= */
const ITEMS = shuffle([
{
 trap:"implikasi terbalik",
 q:"Jika p maka q. q terjadi. Kesimpulan?",
 o:["p terjadi","p tidak terjadi","p mungkin","p pasti"],
 rationale:(c)=> c===2
  ?"Otakmu ingin membalik logika, padahal akibat tidak menjamin sebab."
  :"Pilihan ini muncul dari refleks logika terbalik."
},
{
 trap:"sebagian ≠ semua",
 q:"Sebagian ASN dosen. Kesimpulan benar?",
 o:["Semua ASN dosen","Sebagian dosen ASN","Tidak ada","Semua dosen ASN"],
 rationale:(c)=> c===1
  ?"Kata sebagian tidak pernah boleh ditarik jadi semua."
  :"Ini jebakan karena terbiasa menyamaratakan."
},
{
 trap:"laju kerja",
 q:"A 4 hari, B 6 hari. Bersama?",
 o:["5","4","2.4","10"],
 rationale:(c)=> c===2
  ?"Yang dijumlahkan adalah laju, bukan harinya."
  :"Ini refleks salah karena menjumlah waktu."
}
]);

let used = 0;

/* ========= HOOK A/B ========= */
function genHook(trap,phase){
  const map={
    "implikasi terbalik":[
      ["OTAK SERING KESELIP","KAMU BARUSAN KEPIKIRAN INI"],
      ["LOGIKA DIBALIK","INI KESALAHAN UMUM"]
    ],
    "sebagian ≠ semua":[
      ["KATA SEBAGIAN MENIPU","INI JEBATAN PIKIRAN"],
      ["JANGAN DIGENERAL","OTAK SUKA NYEPLONG"]
    ],
    "laju kerja":[
      ["INI BUKAN TAMBAH HARI","JEBATAN LAJU"],
      ["SOAL KELIHATAN MUDAH","OTAK SERING SALAH"]
    ]
  };
  return map[trap][phase][Math.floor(Math.random()*2)];
}

/* ========= DOM ========= */
const title=document.getElementById("title");
const qEl=document.getElementById("q");
const optEl=document.getElementById("opt");
const wrong=document.getElementById("wrong");
const rat=document.getElementById("rat");
const cue=document.getElementById("cue");
cue.volume=.25;

/* ========= UTILS ========= */
function shuffle(a){
  for(let i=a.length-1;i>0;i--){
    const j=Math.floor(Math.random()*(i+1));
    [a[i],a[j]]=[a[j],a[i]];
  }
  return a;
}
function playWords(words){
  let i=0;
  const beat=setInterval(()=>{
    if(i>0) words[i-1].classList.remove("on");
    if(i<words.length){
      words[i].classList.add("on");
      i++;
    }else clearInterval(beat);
  },260);
}

/* ========= FLOW ========= */
function loadItem(){
  const it=ITEMS[used++ % ITEMS.length];

  title.textContent=genHook(it.trap,0);
  title.classList.add("shock");

  qEl.textContent=it.q;
  optEl.innerHTML=it.o.map(x=>`<div>${x}</div>`).join("");
  optEl.classList.add("pressure");

  setTimeout(()=>{
    title.textContent=genHook(it.trap,1);
  },1200);

  setTimeout(()=>{
    title.classList.remove("shock");
    optEl.classList.remove("pressure");
    wrong.classList.add("show");
  },3000);

  setTimeout(()=>{
    wrong.classList.remove("show");
    rat.innerHTML="";
    rat.classList.add("show");
    it.rationale(2).split(" ").forEach(w=>{
      const s=document.createElement("span");
      s.className="word";
      s.textContent=w+" ";
      rat.appendChild(s);
    });
    playWords([...rat.children]);
  },4400);

  setTimeout(()=>{
    cue.currentTime=0; cue.play().catch(()=>{});
    rat.classList.remove("show");
    loadItem();
  },7200);
}

loadItem();
</script>
</body>
</html>
