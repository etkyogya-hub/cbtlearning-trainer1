<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CBT Trainer Mode – Stable Inject</title>
<link href="https://fonts.googleapis.com/css2?family=Anton&display=swap" rel="stylesheet">
<style>
body{margin:0;background:#000;color:#fff;font-family:Arial,sans-serif;display:flex;justify-content:center;align-items:center;height:100vh}
.frame{width:360px;height:640px;padding:22px;position:relative;overflow:hidden}
.title{font-family:'Anton';font-size:36px;text-align:center;margin-bottom:14px}
.shock{animation:shake .15s infinite,flash .25s infinite}
@keyframes shake{0%{transform:translate(0)}25%{transform:translate(-3px,1px)}50%{transform:translate(3px,-1px)}75%{transform:translate(-2px,1px)}}
@keyframes flash{0%{color:#fff}33%{color:#ff3b3b}66%{color:#00ffe5}100%{color:#fff}}
.question{font-size:15px;line-height:1.5;margin-bottom:14px}
.options div{border:1px solid #333;padding:10px;margin-bottom:8px;opacity:.85}
.pressure{animation:shakeX .25s infinite}
@keyframes shakeX{0%{transform:translateX(0)}25%{transform:translateX(-4px)}50%{transform:translateX(4px)}}
.wrong{position:absolute;inset:0;background:#000;display:flex;align-items:center;justify-content:center;font-family:'Anton';font-size:40px;color:#ff3b3b;opacity:0}
.wrong.show{opacity:1}
.rationale{position:absolute;top:56%;left:18px;right:18px;font-size:18px;line-height:1.55;text-align:center;opacity:0}
.rationale.show{opacity:1}
</style>
</head>
<body>
<div class="frame">
  <div class="title shock" id="title"></div>
  <div class="question" id="q"></div>
  <div class="options pressure" id="opt"></div>
  <div class="wrong" id="wrong">SALAH</div>
  <div class="rationale" id="rat"></div>
</div>

<audio id="cue" preload="auto">
  <source src="https://assets.mixkit.co/sfx/preview/mixkit-soft-click-1121.mp3">
</audio>

<script>
function shuffle(a){for(let i=a.length-1;i>0;i--){const j=Math.floor(Math.random()*(i+1));[a[i],a[j]]=[a[j],a[i]]}return a}
function validateItems(arr){
  const bad=[];
  arr.forEach((it,i)=>{
    if(!it||typeof it!=="object") bad.push(i);
    else if(!("hook1"in it&&"hook2"in it&&"q"in it&&"o"in it&&"r"in it)) bad.push(i);
    else if(!Array.isArray(it.o)) bad.push(i);
  });
  if(bad.length){
    document.body.innerHTML=`<div style="color:red;font-family:monospace;padding:20px">BROKEN ITEMS INDEX: ${bad.join(", ")}</div>`;
    throw new Error("Invalid inject");
  }
}

/* ===== SAFE INJECT ZONE ===== */
const ITEMS = shuffle([
  const ITEMS = shuffle([
/* ================= SNBT LOGIKA ================= */
{
 hook1:"LOGIKA DASAR TAPI MENIPU",
 hook2:"PERHATIKAN SEBAGIAN",
 q:"Jika semua A adalah B dan semua B adalah C, maka?",
 o:["A adalah C","C adalah A","Sebagian","Tidak ada"],
 r:"Semua A ke B dan semua B ke C → semua A pasti ke C. Opsi lain salah karena tidak mengikuti rantai logika penuh."
},
{
 hook1:"JANGAN TERLALU GENERAL",
 hook2:"SEBAGIAN ≠ SEMUA",
 q:"Tidak semua siswa rajin. Sebagian siswa pintar.",
 o:["Semua pintar","Sebagian rajin","Sebagian pintar","Tidak ada"],
 r:"Hanya sebagian yang diketahui pintar; tidak bisa disimpulkan semua atau tidak ada."
},
{
 hook1:"PERHITUNGAN HARI ITU PENTING",
 hook2:"YANG DIHITUNG LAJU KERJA",
 q:"Pekerjaan selesai oleh A 4 hari dan B 6 hari. Jika bekerja bersama?",
 o:["5 hari","4 hari","2,4 hari","10 hari"],
 r:"Hitung laju kerja: A=1/4, B=1/6 per hari → total=5/12 per hari → 12/5=2,4 hari."
},
{
 hook1:"TRANSITIF ITU KUNCI",
 hook2:"SIAPA PALING TINGGI?",
 q:"Anton lebih tinggi dari Budi. Budi lebih tinggi dari Caca. Siapa paling tinggi?",
 o:["Anton","Budi","Caca","Tidak tahu"],
 r:"Relasi transitif: Anton > Budi > Caca → Anton tertinggi."
},
{
 hook1:"JANGAN TERBINGUNG PREMIS SALAH",
 hook2:"PENGUJIAN PENGANTAR",
 q:"Semua burung bisa terbang. Penguin burung. Benar atau salah?",
 o:["Benar","Salah","Sebagian","Tidak tahu"],
 r:"Premis salah karena penguin burung tapi tidak bisa terbang → jawaban Salah."
},

/* ================= SNBT KUANTITATIF ================= */
{
 hook1:"HITUNG LAJU KERJA",
 hook2:"JANGAN HANYA TEBARANGKAN",
 q:"A 4 hari, B 6 hari. Bersama?",
 o:["5","4","2.4","10"],
 r:"A=1/4, B=1/6 → total 5/12 per hari → 12/5=2,4 hari."
},
{
 hook1:"LEBIH ORANG → CEPAT SELESAI",
 hook2:"PERBANDINGAN TERBALIK",
 q:"5 orang 10 hari. 10 orang berapa hari?",
 o:["20","10","5","2"],
 r:"5 orang 10 hari → total pekerjaan 50. 10 orang → 50/10=5 hari."
},
{
 hook1:"DISKON BERTAHAP",
 hook2:"BANYAK ORANG SALAH HITUNG",
 q:"Diskon 50% lalu 50% lagi. Total sisa?",
 o:["Gratis","25%","50%","75%"],
 r:"Harga ×0,5 ×0,5 = 0,25 → sisa 25% dari harga awal."
},
{
 hook1:"KERJAKAN LANGKAH DEMI LANGKAH",
 hook2:"HATI-HATI FRAKSI",
 q:"2/3 dari 3/4 dari 120?",
 o:["40","60","80","90"],
 r:"3/4 ×120=90 → 2/3 ×90=60."
},
{
 hook1:"MESIN BANYAK, WAKTU CEPAT",
 hook2:"HITUNG PROPORSIONAL",
 q:"3 mesin 3 barang 3 menit. 6 mesin 6 barang?",
 o:["3","6","9","12"],
 r:"Setiap mesin 1 barang 1 menit. 6 mesin → 6 barang tetap 3 menit."
},

/* ================= ASN LOGIKA TIU ================= */
{
 hook1:"SEBAGIAN TIDAK MENGIKAT",
 hook2:"JANGAN TERLALU GENERAL",
 q:"Semua PNS adalah ASN. Sebagian ASN dosen. Kesimpulan?",
 o:["Semua dosen ASN","Sebagian PNS dosen","Tidak pasti","Semua ASN dosen"],
 r:"Sebagian ASN dosen tidak mengikat semua → kesimpulan tidak pasti."
},
{
 hook1:"ANDAI ANDI PEGAWAI",
 hook2:"TIDAK SEMUA = TIDAK PASTI",
 q:"Tidak semua pegawai rajin. Andi pegawai. Status Andi?",
 o:["Andi rajin","Andi tidak rajin","Tidak pasti","Pasti rajin"],
 r:"Tidak semua ≠ sebagian → status Andi tidak dapat dipastikan."
},
{
 hook1:"AKIBAT ≠ SEBAB",
 hook2:"LOGIKA TIU",
 q:"Jika aturan ditaati maka disiplin meningkat. Disiplin meningkat. Sebab?",
 o:["Aturan ditaati","Tidak ditaati","Mungkin ditaati","Pasti ditaati"],
 r:"Disiplin meningkat tidak menjamin aturan ditaati → tidak bisa disimpulkan pasti."
},
{
 hook1:"DUA SEBAGIAN TIDAK MENYIMPULKAN",
 hook2:"PERHATIKAN KONDISI",
 q:"Sebagian peserta lulus. Tidak semua peserta ASN.",
 o:["Sebagian ASN lulus","Tidak ada ASN lulus","Tidak pasti","Semua lulus"],
 r:"Dua sebagian tidak selalu bertemu → kesimpulan tidak pasti."
},
{
 hook1:"NETRALITAS = PASTI",
 hook2:"JIKA MELANGGAR → BUKTI",
 q:"Semua ASN wajib netral. Budi tidak netral. Status Budi?",
 o:["Budi ASN","Budi bukan ASN","Netral","Tidak tahu"],
 r:"Jika semua ASN netral dan Budi tidak netral, Budi bukan ASN."
},

/* ================= ASN KUANTITATIF ================= */
{
 hook1:"ORANG BANYAK → CEPAT",
 hook2:"PERBANDINGAN TERBALIK",
 q:"8 orang selesai 6 hari. 12 orang?",
 o:["4","6","8","9"],
 r:"8×6=48 pekerjaan. 12 orang → 48/12=4 hari."
},
{
 hook1:"HITUNG TOTAL SEBELUM SELISIH",
 hook2:"RATA-RATA BERUBAH",
 q:"Rata-rata 5 orang 80. Satu keluar, rata-rata 75. Nilai yang keluar?",
 o:["100","95","90","85"],
 r:"Total awal=400, sisa=4×75=300 → nilai yang keluar=100."
},
{
 hook1:"RATIO = PROPORSIONAL",
 hook2:"BAGI TOTAL DENGAN PART",
 q:"Perbandingan A:B=2:3. Total 50. A berapa?",
 o:["20","25","30","35"],
 r:"Total 5 bagian → 50/5=10 per bagian → A=2×10=20."
},
{
 hook1:"NAIK TURUN BUKAN SAMA",
 hook2:"HITUNG BASIS",
 q:"Harga naik 20% lalu turun 20%.",
 o:["Tetap","Turun","Naik","Sama"],
 r:"Naik 20% → 1,2X, turun 20% → 1,2×0,8=0,96X → turun 4%."
},
{
 hook1:"SISTEM PERSAMAAN",
 hook2:"ELIMINASI CEPAT",
 q:"x+y=10 dan x−y=2. Nilai x?",
 o:["4","5","6","8"],
 r:"x=(10+2)/2=6."
},

/* ================= SNBT tambahan untuk 30 ================= */
{
 hook1:"LOGIKA SUBTIL",
 hook2:"PERHATIKAN HUBUNGAN",
 q:"Jika p dan q benar, r salah. Apa yang bisa disimpulkan?",
 o:["p salah","q salah","r salah","Tidak pasti"],
 r:"Hanya r yang dipastikan salah, p dan q tetap benar."
},
{
 hook1:"SEBAGIAN BISA MEMBUAT JEBLOK",
 hook2:"JANGAN TEBARANGKAN",
 q:"Sebagian mahasiswa senang matematika. Semua siswa suka logika. Kesimpulan?",
 o:["Semua mahasiswa suka matematika","Sebagian siswa suka matematika","Tidak ada","Tidak pasti"],
 r:"Hanya irisan diketahui → kesimpulan pasti tidak bisa diambil untuk semua."
},
{
 hook1:"HATI-HATI PREMIS",
 hook2:"KESALAHAN UMUM",
 q:"Jika semua X > Y, dan Y > Z, maka X > Z?",
 o:["Benar","Salah","Sebagian","Tidak pasti"],
 r:"Transitif → X>Y>Z → X>Z. Opsi lain salah karena logika transitif."
},
{
 hook1:"PENJUMLAHAN TIDAK LANGSUNG",
 hook2:"AGREGAT ITU PENTING",
 q:"3 orang 5 hari → 15 pekerjaan. 5 orang berapa hari?",
 o:["3","5","6","9"],
 r:"Total pekerjaan 15, 5 orang → 15/5=3 hari."
},
{
 hook1:"DISKON BERTAHAP",
 hook2:"JANGAN SALAH HITUNG",
 q:"Barang diskon 20%, lalu 10%. Total sisa?",
 o:["72%","80%","70%","75%"],
 r:"Harga ×0,8 ×0,9=0,72 → sisa 72%."
},
{
    hook1:"LOGIKA DASAR TAPI MENIPU",
    hook2:"PERHATIKAN SEBAGIAN",
    q:"Jika semua A adalah B dan semua B adalah C, maka?",
    o:["A adalah C","C adalah A","Sebagian","Tidak ada"],
    r:"Semua A ke B dan semua B ke C → semua A ke C."
  },
  {
    hook1:"JANGAN TERLALU GENERAL",
    hook2:"SEBAGIAN ≠ SEMUA",
    q:"Tidak semua siswa rajin. Sebagian siswa pintar.",
    o:["Semua pintar","Sebagian rajin","Sebagian pintar","Tidak ada"],
    r:"Hanya sebagian yang diketahui pintar."
  },
  {
    hook1:"PERHITUNGAN HARI ITU PENTING",
    hook2:"YANG DIHITUNG LAJU KERJA",
    q:"Pekerjaan selesai oleh A 4 hari dan B 6 hari. Jika bekerja bersama?",
    o:["5 hari","4 hari","2,4 hari","10 hari"],
    r:"A=1/4, B=1/6 → 5/12 → 12/5 = 2,4 hari."
  },
  {
    hook1:"TRANSITIF ITU KUNCI",
    hook2:"SIAPA PALING TINGGI?",
    q:"Anton > Budi, Budi > Caca. Siapa paling tinggi?",
    o:["Anton","Budi","Caca","Tidak tahu"],
    r:"Anton paling tinggi."
  },
  {
    hook1:"JANGAN TERBINGUNG PREMIS SALAH",
    hook2:"PENGUJIAN PENGANTAR",
    q:"Semua burung bisa terbang. Penguin burung.",
    o:["Benar","Salah","Sebagian","Tidak tahu"],
    r:"Premis salah."
  },
  {
    hook1:"HITUNG LAJU KERJA",
    hook2:"JANGAN HANYA TEBARANGKAN",
    q:"A 4 hari, B 6 hari. Bersama?",
    o:["5","4","2.4","10"],
    r:"12/5 = 2,4 hari."
  },
  {
    hook1:"LEBIH ORANG → CEPAT SELESAI",
    hook2:"PERBANDINGAN TERBALIK",
    q:"5 orang 10 hari. 10 orang?",
    o:["20","10","5","2"],
    r:"50/10 = 5 hari."
  },
  {
    hook1:"DISKON BERTAHAP",
    hook2:"BANYAK ORANG SALAH HITUNG",
    q:"Diskon 50% lalu 50% lagi.",
    o:["Gratis","25%","50%","75%"],
    r:"Sisa 25%."
  },
  {
    hook1:"KERJAKAN LANGKAH DEMI LANGKAH",
    hook2:"HATI-HATI FRAKSI",
    q:"2/3 dari 3/4 dari 120?",
    o:["40","60","80","90"],
    r:"60."
  },
  {
    hook1:"MESIN BANYAK, WAKTU CEPAT",
    hook2:"HITUNG PROPORSIONAL",
    q:"3 mesin 3 barang 3 menit. 6 mesin 6 barang?",
    o:["3","6","9","12"],
    r:"Tetap 3 menit."
  }
]);
/* ===== END INJECT ===== */

validateItems(ITEMS);

/* ===== PLAYER ===== */
let idx=0;
const title=document.getElementById("title");
const qEl=document.getElementById("q");
const optEl=document.getElementById("opt");
const wrong=document.getElementById("wrong");
const rat=document.getElementById("rat");
const cue=document.getElementById("cue");
cue.volume=.25;

function loadItem(){
  const it=ITEMS[idx];
  title.textContent=it.hook1;
  title.classList.add("shock");
  qEl.textContent=it.q;
  optEl.innerHTML=it.o.map(x=>`<div>${x}</div>`).join("");
  optEl.classList.add("pressure");
  setTimeout(()=>title.textContent=it.hook2,1200);
  setTimeout(()=>{title.classList.remove("shock");optEl.classList.remove("pressure");wrong.classList.add("show")},3000);
  setTimeout(()=>{wrong.classList.remove("show");rat.textContent=it.r;rat.classList.add("show")},4600);
  setTimeout(()=>{rat.classList.remove("show");cue.currentTime=0;cue.play().catch(()=>{});idx=(idx+1)%ITEMS.length;loadItem()},8000);
}
loadItem();
</script>
</body>
</html>
